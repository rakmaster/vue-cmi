function load(e){return"complete"===document.readyState?setTimeout(e,0):"interactive"===document.readyState?setTimeout(function(){return load(e)},150):void document.addEventListener("DOMContentLoaded",e)}function plugin(e,t){var r=e.extend({template:"<div></div>",props:{mapdata:Object},data:function(){return this.mapdata}});e.component("v-map",r),e.map=new _map,e.prototype.$cmi={load:load(),map:function(t,r){return e.map.draw(t,r)},layer:{getLayers:function(t){return e.map.getLayers(t)},getLayer:function(t){return e.map.getLayer(t)},getFeatures:function(t){return e.map.getFeatures(t)},getFeature:function(t,r){return e.map.getFeature(t,r)},draw:function(t){return e.map.layer(t)}},control:{animate:function(t){return e.map.animate(t)},panto:function(t){return e.map.panto(t)}},functions:{normalize:function(t){return e.map.normalize(t)}}}}var openlayers;if(window.ol){openlayers=window.ol;var _defaults={duration:500,styles:{stroke:{color:"rgba(0,0,0,1.0)",width:1},fill:{color:"rgba(0,80,180,1.0)"},text:{character:"ÔÅÅ",style:"normal",size:"18px",family:"FontAwesome",baseline:"Bottom"},image:null}},_stroke=function(e){return new openlayers.style.Stroke({color:e.color,width:e.width})},_fill=function(e){return new openlayers.style.Fill({color:e.color})},_text=function(e,t){return new openlayers.style.Text({text:e.character,font:e.style+" "+e.size+" '"+e.family+"'",textBaseline:e.baseline,fill:_fill(t)})},_arrange=function(e){var t={};for(var r in _defaults.styles)t[r]=_defaults.styles[r];for(var o in e)if(t[o])if(null!==e[o])for(var n in e[o])t[o][n]=e[o][n];else t[o]=e[o];return t},_style=function(e){var t,r=_arrange(e),o={},n={Point:function(e){return e.image&&(o.image=e.image),e.text&&(o.text=_text(e.text,e.fill)),new openlayers.style.Style(o)},LineString:function(e){return e.stroke&&(o.stroke=_stroke(e.stroke)),new openlayers.style.Style(o)},MultiLineString:function(e){return e.stroke&&(o.stroke=_stroke(e.stroke)),new openlayers.style.Style(o)},MultiPoint:function(e){return e.image&&(o.image=e.image),e.font&&(o.text=_text(e.text,e.fill)),new openlayers.style.Style(o)},MultiPolygon:function(e){return e.stroke&&(o.stroke=_stroke(e.stroke)),e.fill&&(o.fill=_fill(e.fill)),new openlayers.style.Style(o)},Polygon:function(e){return e.stroke&&(o.stroke=_stroke(e.stroke)),e.fill&&(o.fill=_fill(e.fill)),new openlayers.style.Style(o)},GeometryCollection:function(e){return e.stroke&&(o.stroke=_stroke(e.stroke)),e.fill&&(o.fill=_fill(e.fill)),new openlayers.style.Style(o)},Circle:function(e){return e.stroke&&(o.stroke=_stroke(e.stroke)),e.fill&&(o.fill=_fill(e.fill)),new openlayers.style.Style(o)}};return t=n[e.type](r)},_view=function(e,t){return new openlayers.View({center:openlayers.proj.fromLonLat(e),zoom:t})},_extents=function(e){var t=openlayers.extent.boundingExtent(e);return openlayers.proj.transformExtent(t,openlayers.proj.get("EPSG:4326"),openlayers.proj.get("EPSG:3857"))},_source={__feature:function(e,t,r){var o=new openlayers.Feature;return o.setGeometry(e),t&&o.setStyle(t),r&&o.set("state",r),o},__attributions:function(e){var t=[];if(e)if(Array.isArray(e))for(var r in e)t.push(new openlayers.Attribution({html:e[r]}));else{var o=new openlayers.Attribution({html:e});t.push(o)}return t},__normalize:function(e){return openlayers.proj.transform(e,"EPSG:4326","EPSG:3857")},__stylize:function(e){var t;return t=e.method?e.method:_style(e)},_point:function(e){var t,r,o,n;return Array.isArray(e)?t=e:(t=e.coordinates,e.state&&(n=e.state)),"undefined"!=typeof e.style?(r=_source.__stylize(e.style),o=_source.__feature(new openlayers.geom.Point(_source.__normalize(t)),r,n)):o=_source.__feature(new openlayers.geom.Point(_source.__normalize(t)),null,n),o},_shape:function(e){for(var t,r,o=[],n=0;n<e.coordinates.length;n++)o.push(_source.__normalize(e.coordinates[n]));return"undefined"!=typeof e.style?(t=_source.__stylize(e.style),r=_source.__feature(new openlayers.geom.Polygon([o]),t)):r=_source.__feature(new openlayers.geom.Polygon([o])),r},_xyz:function(e){var t,r;return e.attributions&&(t=_source.__attributions(e.attributions)),e.url?(r=e.url,{attributions:t,url:r}):!1},_image:function(e){var t,r,o=_source.shape(e.coordinates),n=o.getExtent();return e.attributions&&(t=_source.__attributions(e.attributions)),e.url?(r=e.url,{attributions:t,url:r,imageExtent:n}):!1},_radius:function(e){var t,r,o=e.radius,n=[];n.degrees=1/69.048,n.dd=n.degrees,n.m=1609.344,n.ft=5280,n.km=1.609344,n.mi=1,n.inches=63360;var s=o*n[e.units]*.70710678,a=_source.__normalize(e.coordinates);return"undefined"!=typeof e.style?(t=_source.__stylize(e.style),r=_source.__feature(new openlayers.geom.Circle(a,s),t)):r=_source.__feature(new openlayers.geom.Circle(a,s)),r},_circle:function(e){var t,r,o=_source._radius(e).getGeometry();t=e.sides?e.sides:32,r=e.angle?e.angle:0;var n=openlayers.geom.Polygon.fromCircle(o,t,r),s=_source.__feature(n);return s},"default":function(){return new openlayers.source.OSM},xyz:function(e){return new openlayers.source.XYZ(_source._xyz(e))},image:function(e){return new openlayers.source.ImageStatic(_source._image(e))},point:function(e){var t=[_source._point(e)],r=new openlayers.source.Vector;return r.addFeatures(t),r},shape:function(e){var t=[_source._shape(e)],r=new openlayers.source.Vector;return r.addFeatures(t),r},radius:function(e){var t=[_source._radius(e)],r=new openlayers.source.Vector;return r.addFeatures(t),r},circle:function(e){var t=[_source._circle(e)];return new openlayers.source.Vector(t)},multi:function(e){for(var t=new openlayers.source.Vector,r=0;r<e.length;r++){var o=_source["_"+e[r].type];t.addFeature(o(e[r]))}return t},geojson:function(e){var t;return null!==e&&"object"==typeof e?t=new openlayers.source.Vector({features:(new openlayers.format.GeoJSON).readFeatures(e),format:new ol.format.GeoJSON}):"string"==typeof e&&(t=new openlayers.source.Vector({url:e,format:new ol.format.GeoJSON})),t},compound:function(e){var t=[],r=new openlayers.source.Vector;for(var o in e){var n=_source["_"+e[o].type],s=n(e[o]),a=s.getGeometry().getCoordinates()[0].slice();if(a.length%2===0){var l=a.slice();a.push(l[0])}t.push(a)}var i=_source.__feature(new openlayers.geom.Polygon(t));return r.addFeature(i),r}};_layer={_vector:function(e,t){var r=new openlayers.layer.Vector;return r.set("name",e),r.setSource(t),r},draw:function(e){var t;if(e){var r=this[e.type];t=r(e.name,e.src)}else t=new openlayers.layer.Tile({name:"base",source:_source["default"]()});return t},tile:function(e,t){var r=new openlayers.layer.Tile;return r.set("name",e),r.setSource(_source.xyz(t)),r},image:function(e,t){var r=new openlayers.layer.Image;return r.set("name",e),r.setSource(_source.image(t)),r},shape:function(e,t){var r=_source.shape(t),o=_layer._vector(e,r);return t.style?o.setStyle(_style(t.style)):o.setStyle(_style({type:"Polygon"})),o},radius:function(e,t){var r=_source.radius(t),o=_layer._vector(e,r);return t.style?o.setStyle(_style(t.style)):o.setStyle(_style({type:"Polygon"})),o},circle:function(e,t){var r=_source.circle(t),o=_layer._vector(e,r);return t.style?o.setStyle(_style(t.style)):o.setStyle(_style({type:"Polygon"})),o},geojson:function(e,t){var r=_source.geojson(t.coordinates),o=_layer._vector(e,r);return t.style?o.setStyle(_style(t.style)):o.setStyle(_style({type:"MultiPolygon"})),o},compound:function(e,t){var r=_source.compound(t.shapes),o=_layer._vector(e,r);return t.style?o.setStyle(_style(t.style)):o.setStyle(_style({type:"MultiPolygon"})),o},multi:function(e,t){var r=_source.multi(t),o=_layer._vector(e,r);return t.style?t.style.method?o.setStyle(t.style.method):o.setStyle(_style(t.style)):o.setStyle(_style({type:"Polygon"})),o},group:function(e,t){var r=[];for(var o in t){var n=_layer[t[o].type];r.push(n(t[o].name,t[o].src))}return new openlayers.layer.Group({name:e,layers:r})},empty:function(){return new openlayers.layer.Vector}};var map=function(){this.ol={},this.target="",this.center=[0,0],this.zoom=4,this.extents=[],this.defaults=_defaults};map.prototype.draw=function(e,t){var r=[];if(!e)return!1;if(this.target=e,t){if(t.center&&(this.center=t.center),t.zoom&&(this.zoom=t.zoom),t.extents&&(this.extents=_extents(t.extents)),t.styles)for(var o in t.styles)if(_defaults.styles[o]){var n=t.styles[o];for(var s in n)_defaults.styles[o][s]=n[s]}t.base?r.push(_layer.draw(t.base)):r.push(_layer.draw())}else r.push(_layer.draw());var a={target:this.target,layers:r,view:_view(this.center,this.zoom)};return t&&t.controls===!1&&(a.controls=openlayers.control.defaults({zoom:!1,attribution:!1,rotate:!1})),this.ol=new openlayers.Map(a),t.extents&&this.ol.getView().fit(this.extents,this.ol.getSize()),this.ol},map.prototype.getLayers=function(e){var t=[];return e?this.ol.getLayers().forEach(function(e){e instanceof openlayers.layer.Group||t.push(e)}):this.ol.getLayers().forEach(function(e){e instanceof openlayers.layer.Group?e.getLayers().forEach(function(e){t.push(e)}):t.push(e)}),t},map.prototype.getLayer=function(e){var t=[];return this.getLayers().forEach(function(r){e===r.get("name")&&(t=r)}),t},map.prototype.getFeatures=function(e){return this.getLayer(e).getSource().getFeatures()},map.prototype.getFeature=function(e,t){return this.getLayer(e).getSource().getClosestFeatureToCoordinate(t)},map.prototype.layer=function(e){var t=_layer.draw(e);return this.ol.addLayer(t),t},map.prototype.animate=function(e,t){var r=[];e.getLayers().forEach(function(e){r.push(e)});for(var o=0,n=1;n<r.length;n++)r[n].setVisible(!1);setInterval(function(){r[o].setVisible(!r[o].getVisible()),o++,o===r.length&&(o=0),r[o].setVisible(!r[o].getVisible())},t)},map.prototype.panto=function(e){if(e.extents){var t=_extents(e.extents);this.ol.getView().fit(t,{duration:this.duration})}e.zoom&&this.ol.getView().animate({center:openlayers.proj.fromLonLat(e.center),duration:e.duration,zoom:e.zoom})},map.prototype.normalize=function(e){return openlayers.proj.transform(e.coordinates,e.from,e.to)},"undefined"!=typeof window&&window.Vue&&window.Vue.use(plugin)}else console.log("NOAA CMI Requires Openlayers 4.0.1");
